<!DOCTYPE html>
<html>
<title> Attendance</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/static/styles/base_style.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css">

<head>
	<title>Web Application</title>
	<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/static/styles/demo.css" />
    <link rel="stylesheet" href="/static/styles/jquery.md.bootstrap.datetimepicker.style.css" />

</head>

<body>

<!-- Sidebar -->
<nav class="w3-sidebar w3-bar-block w3-black w3-animate-right w3-top w3-text-light-grey w3-large" style="z-index:3;width:250px;font-weight:bold;display:none;right:0;" id="mySidebar">
  <a href="javascript:void()" onclick="w3_close()" class="w3-bar-item w3-button w3-center w3-padding-32">CLOSE</a>
  <a href="#about" onclick="w3_close()" class="w3-bar-item w3-button w3-center w3-padding-16">ABOUT</a>
  <a href="#contact" onclick="w3_close()" class="w3-bar-item w3-button w3-center w3-padding-16">CONTACT</a>
</nav>

<!-- !PAGE CONTENT! -->
<div class="w3-content" style="max-width:1800px">

<div class="w3-opacity">
<span class="w3-button w3-xxlarge w3-white w3-right" onclick="w3_open()"><i class="fa fa-bars"></i></span>
<div class="w3-clear"></div>
  <h1><b> attendance</b></h1>
<!--  <p><b>A demo made by  on industry for evaluation purposes only.</b></p>-->
    <div class="w3-container w3-light-grey w3-padding-32 w3-padding-large" id="contact">
    <div class="w3-content" style="max-width:1500px">
      <form method="post" action="/attendance" enctype="multipart/form-data">
            <div class="w3-section">
                <label for="user_id">شناسه کاربر</label><br>
                <input type="number" name="user_id" id="user_id" min="1" max="9999">
              </div>
            <div>
<!--                <div class="w3-section" id="block1"  style="float:left;">-->
                    <div class="w3-section" id="block1">
                  <label for="start_time">زمان شروع</label><br>
                  <input type="time" name="start_time" id="start_time" value="01:00" required>
                </div>
<!--                <div class="w3-section" id="block2"  style="float:right;">-->
                    <div class="w3-section" id="block2">
                  <label for="finish_time">زمان اتمام</label><br>
                    <input type="time" name="finish_time" id="finish_time" value="22:00" required>
                </div>
            </div>
<!--            <br><br>-->


          <script src="/static/scripts/jquery.md.bootstrap.datetimepicker.js" type="text/javascript"></script>
        <script type="text/javascript">
        $('#date1').MdPersianDateTimePicker({
        targetTextSelector: '#start_date1',
        targetDateSelector: '#start_date',
        dateFormat: 'yyyy-MM-dd',
        modalMode: true
        });
        </script>
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text cursor-pointer" id="date1">روز شروع</span>
          </div>
          <input type="text" id="start_date1" name="start_date1" class="form-control" placeholder="" aria-label="date1"
            aria-describedby="date1" value={{str_date}} required>
          <input type="text" id="start_date" name="start_date" class="form-control" placeholder="" aria-label="date1"
            aria-describedby="date1" value="{{str_date}}" required>
        </div>
        <script src="/static/scripts/jquery.md.bootstrap.datetimepicker.js" type="text/javascript"></script>
        <script type="text/javascript">
        $('#date1').MdPersianDateTimePicker({
          targetTextSelector: '#start_date1',
          targetDateSelector: '#start_date',
          dateFormat: 'yyyy-MM-dd',
          modalMode: true
        });
        </script>
        <br><br>
        <script src="/static/scripts/jquery.md.bootstrap.datetimepicker.js" type="text/javascript"></script>
        <script type="text/javascript">
        $('#date2').MdPersianDateTimePicker({
        targetTextSelector: '#finish_date1',
        targetDateSelector: '#finish_date',
        dateFormat: 'yyyy-MM-dd',
        modalMode: true
        });
        </script>
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text cursor-pointer" id="date2">روز اتمام</span>
          </div>
          <input type="text" id="finish_date1" name="finish_date1" class="form-control" placeholder="" aria-label="date2"
            aria-describedby="date2" value={{fih_date}} required>
          <input type="text" id="finish_date" name="finish_date" class="form-control" placeholder="" aria-label="date2"
            aria-describedby="date2" value="{{fih_date}}" required>
        </div>
        <script src="/static/scripts/jquery.md.bootstrap.datetimepicker.js" type="text/javascript"></script>
        <script type="text/javascript">
        $('#date2').MdPersianDateTimePicker({
          targetTextSelector: '#finish_date1',
          targetDateSelector: '#finish_date',
          dateFormat: 'yyyy-MM-dd',
          modalMode: true
        });
        </script>
        <br><br>


        <button class="w3-button w3-block w3-black w3-margin-bottom" type="submit">
            <i class="fa fa-search fa-2x"></i>
        </button>
      </form>
    </div>
  </div>
</div>
<!--    -->



<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript"  src="http://cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>
<script type="text/javascript"  src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <script>
$(document).ready(function(){
        $('#table_content').dataTable({"columns": [ {"searchable": true},{"searchable": false},
        {"searchable": false}, {"searchable": false}]})
});
</script>

{% if date_time_valid %}
    <p style="font-weight: bold; font-size:20px;"> نتایج </p>
	<table class="w3-table w3-striped w3-bordered w3-centered w3-auto" id="table_content">
      <thead>
      <tr>
<!--        <th align="center"><p style="font-weight: bold; font-size:20px;">شناسه کاربر</p> </th>-->
          <th>شناسه کاربر</th>
        <th>روز</th>
<!--          <th align="center"><p style="font-weight: bold; font-size:15px;">روز</p> </th>-->
          <th>زمان</th>
        <th>تصویر</th>
      </tr>
      </thead>
		<tbody>
		{% for row in info_number %}
			<tr>
              <td>{{info_number[loop.index-1]}}</td>
              <td>{{info_date[loop.index-1]}}</td>
                <td>{{info_image_time[loop.index-1]}}</td>
              <td>
                <img src="/static/{{ location_images[loop.index-1] }}" onclick="onClick(this)" alt="{{url}}" width="700" height="500">
              </td>
			</tr>
		{% endfor %}
		</tbody>
      <tfoot>
        <tr>
          <th>شناسه کاربر</th>
          <th>روز</th>
            <th>زمان</th>
          <th>تصویر</th>
        </tr>
      </tfoot>
	</table>

    {% elif date_time_valid==False %}
    <p style="font-weight: bold; font-size:20px;"> نتایج </p>
    <p style="font-weight: bold; color: red; font-size:25px;"> زمان انتخاب شده شروع نباید از زمان اتمام بیشتر باشد </p>
    {% endif %}
  </div>

<script src="/static/scripts/base_scripts.js"></script>
  <!-- Modal for full size images on click-->
  <div id="modal01" class="w3-modal w3-black" style="padding-top:0" onclick="this.style.display='none'">
    <span class="w3-button w3-black w3-xlarge w3-display-topright">×</span>
    <div class="w3-modal-content w3-animate-zoom w3-center w3-transparent w3-padding-64">
      <img id="img01" class="w3-image">
      <p id="caption"></p>
    </div>
  </div>


<!-- Footer -->
<footer class="w3-container w3-padding-64 w3-light-grey w3-center w3-opacity w3-xlarge" style="margin-top:128px">
<!--  <i class="fa fa-facebook-official w3-hover-opacity"></i>-->
<!--  <i class="fa fa-instagram w3-hover-opacity"></i>-->
<!--  <i class="fa fa-snapchat w3-hover-opacity"></i>-->
<!--  <i class="fa fa-pinterest-p w3-hover-opacity"></i>-->
<!--  <i class="fa fa-twitter w3-hover-opacity"></i>-->
<!--  <i class="fa fa-linkedin w3-hover-opacity"></i>-->
    <p class="w3-medium">Powered by</p>
    <img src="https://avatars3.githubusercontent.com/u/25844347?s=280&v=4" alt="Avatar" class="w3-circle w3-margin-right" style="width:80px">
    <img src="https://fanap.ir/images/fanap-logo.png" alt="Avatar" class="w3-circle w3-margin-right" style="width:80px">
</footer>
</body>
</html>